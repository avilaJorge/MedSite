<!-- Hero Section -->
<section class="jumbotron no-padding no-margin">
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 400px;
        }
    </style>
    <div id="map"></div>
</section>
<script>
    let map;
    let miw = 100;
    let mih = 100;

    let coords = {
        mcc: {lat: 32.8786467, lng: -117.2230577},
        r4s: {lat: 33.0175318, lng: -117.1120602},
        enc: {lat: 33.0580584, lng: -117.2601678},
        prt: {lat: 32.89327, lng: -117.17038},
        vst: {lat: 32.6509861, lng: -116.9610962},
        cnt: {lat: 32.845627, lng: -117.116684}
    };
    let place_ids = {
        mcc: 'ChIJRc0FMNgG3IARvf0D6nIGjZQ',
        r4s: 'ChIJZfHph-n324ARRIzL9yAa1bs',
        enc: 'ChIJ9yKhv4UL3IARHm-f0GtLWAI',
        prt: 'ChIJ7ffd_Kb424AR5yoF5f55KR4',
        vst: 'ChIJWWbbUBNF2YARKyQMmA9IMJw'
    };
    let loc_nm = {
        mcc: 'Moores Cancer Center (La Jolla)',
        r4s: 'UCSD Center for Neuromodulation (4S Ranch)',
        enc: 'UC San Diego Health (Encinitas)',
        prt: 'California Protons Cancer Therapy Center',
        vst: 'UC San Diego Health (Chula Vista)'
    };
    let loc_addr = {
        mcc: '3855 Health Sciences Drive<br>' +
             'La Jolla, CA 92037',
        r4s: '16918 Dove Canyon Road #100<br>' +
             'San Diego, CA 92127',
        enc: '1200 Garden View Road<br>' +
             'Encinitas, CA 92024',
        prt: '9730 Summers Ridge Rd<br>' +
             'San Diego, CA 92121',
        vst: '959 Lane Avenue<br>' +
             'San Diego, CA 91914'
    };
    let imgs = {
        mcc: 'https://www.dropbox.com/s/ouogvgizr3tgfij/MCC.jpg?raw=1',
        r4s: 'https://www.dropbox.com/s/yt9qf553fdi8xbv/4s_ranch.jpg?raw=1',
        enc: 'https://www.dropbox.com/s/r78ti86a8aoaxck/Encinitas.jpg?raw=1',
        prt: 'https://www.dropbox.com/s/9wrvm4n9d1bb7r1/Proton%20Outside.png?raw=1',
        vst: 'https://www.dropbox.com/s/5f1s6be0o4ywsw0/Chula_Vista.jpg?raw=1'
    };
    function gen_html(name, addr, img) {
        return '<div><strong>' + name + '</strong><br>'
        + addr + '<br>' +
        '<img src=' + img + " style='height:90px;width:160px;'/>" +
        '</div>';
    }

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: coords.cnt,
            zoom: 8
        });

        let mcc_req = {
            placeId: place_ids.mcc,
            fields: ['name', 'formatted_address', 'place_id', 'geometry', 'photo']
        };
        let r4s_req = {
            placeId: place_ids.r4s,
            fields: ['name', 'formatted_address', 'place_id', 'geometry', 'photo']
        };
        let enc_req = {
            placeId: place_ids.enc,
            fields: ['name', 'formatted_address', 'place_id', 'geometry', 'photo']
        };
        let prt_req = {
            placeId: place_ids.prt,
            fields: ['name', 'formatted_address', 'place_id', 'geometry', 'photo']
        };
        let vst_req = {
            placeId: place_ids.vst,
            fields: ['name', 'formatted_address', 'place_id', 'geometry', 'photo']
        };

        let mcc_iw = new google.maps.InfoWindow({
            content: gen_html(loc_nm.mcc, loc_addr.mcc, imgs.mcc),
            pixelOffset: new google.maps.Size(-250, -150, 'px', 'px')
        });
        let r4s_iw = new google.maps.InfoWindow({
            content: gen_html(loc_nm.r4s, loc_addr.r4s, imgs.r4s),
            pixelOffset: new google.maps.Size(-250, 150, 'px', 'px')
        });
        let enc_iw = new google.maps.InfoWindow({
            content: gen_html(loc_nm.enc, loc_addr.enc, imgs.enc),
            pixelOffset: new google.maps.Size(250, 150, 'px', 'px')
        });
        let prt_iw = new google.maps.InfoWindow({
            content: gen_html(loc_nm.prt, loc_addr.prt, imgs.prt),
            pixelOffset: new google.maps.Size(50, 0, 'px', 'px')
        });
        let vst_iw = new google.maps.InfoWindow({
            content: gen_html(loc_nm.vst, loc_addr.vst, imgs.vst),
            pixelOffset: new google.maps.Size(250, -150, 'px', 'px')
        });

        let mcc_mrkr = new google.maps.Marker({
            map: map,
            draggable: false,
            animation: google.maps.Animation.DROP,
            position: coords.mcc
        });
        let r4s_mrkr = new google.maps.Marker({
            map: map,
            draggable: false,
            animation: google.maps.Animation.DROP,
            position: coords.r4s
        });
        let enc_mrkr = new google.maps.Marker({
            map: map,
            draggable: false,
            animation: google.maps.Animation.DROP,
            position: coords.enc
        });
        let prt_mrkr = new google.maps.Marker({
            map: map,
            draggable: false,
            animation: google.maps.Animation.DROP,
            position: coords.prt
        });
        let vst_mrkr = new google.maps.Marker({
            map: map,
            draggable: false,
            animation: google.maps.Animation.DROP,
            position: coords.vst
        });

        mcc_iw.open(map, mcc_mrkr);
        r4s_iw.open(map, r4s_mrkr);
        enc_iw.open(map, enc_mrkr);
        prt_iw.open(map, prt_mrkr);
        vst_iw.open(map, vst_mrkr);
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBn1i2ywrnqSIH8fL4eQ7EyuMAAttzwquQ&libraries=places&callback=initMap"
        async defer></script>

